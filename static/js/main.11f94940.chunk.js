(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(21)},19:function(e,t,a){},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),l=a.n(r),c=(a(19),a(2)),i=a(3),o=a(5),u=a(4),m=a(6),d=a(8),p=a(7),h=a(1),v=a.n(h),E={display:"flex"},g={width:"5%",height:"8vh",background:"rgba(204, 221, 232, 1)",border:"1px solid rgba(3, 68, 136, 1)",margin:4,borderRadius:3,cursor:"pointer"},b={width:10,height:10,margin:"2px auto",border:"1px solid rgba(255, 252, 246, 1)",borderRadius:"100%",background:"transparent"},f={maxWidth:"100%",fontSize:"0.8rem",textAlign:"center"},y=function(e){var t=function(){for(var t=[],a=function(a){t.push(a===e.seqPosition?s.a.createElement("div",{style:Object(p.a)({},g,a%4?{}:{background:"rgba(3, 68, 136, 0.7)",color:"rgba(255, 252, 246, 1)"},a===e.stepFocus?{background:"rgba(3, 68, 136, 1)",color:"rgba(237, 236, 232, 1)"}:{}),key:"step".concat(a),onClick:function(){return e.handleStepFocus(a)}},s.a.createElement("div",{style:Object(p.a)({},b,{background:"rgba(255, 252, 246, 0.7)"})}),s.a.createElement("div",{className:"value-display",style:f},e.sequenceValues[a]&&e.sequenceValues[a].slice(0,4))):s.a.createElement("div",{style:Object(p.a)({},g,a%4?{}:{background:"rgba(3, 68, 136, 0.7)",color:"rgba(255, 252, 246, 1)"},a===e.stepFocus?{background:"rgba(3, 68, 136, 1)",color:"rgba(237, 236, 232, 1)"}:{}),key:"step".concat(a),onClick:function(){return e.handleStepFocus(a)}},s.a.createElement("div",{style:b}),s.a.createElement("div",{className:"value-display",style:f},e.sequenceValues[a]&&e.sequenceValues[a].slice(0,4))))},n=0;n<32;n++)a(n);return t}();return s.a.createElement("div",{className:"sequence-steps"},s.a.createElement("div",{style:E},t.map(function(e,t){return t<16?e:null})),s.a.createElement("div",{style:E},t.map(function(e,t){return t>15?e:null})))},q=a(12),S={display:"flex",flexWrap:"wrap",maxWidth:"98%",margin:"-10px -5px"},N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).setScale=function(e){a.setState({scale:e})},a.setVal=function(e,t){var n=Object(q.a)(a.state.sequenceValues);n[t]=e.target.value,a.setState({sequenceValues:n}),a.props.setSequenceVal(n)},a.state={scale:[21.5,53.3,84.5,111.7,150.6,165,182.4,203.9,231.2,266.9,294.1,315.6,347.4,386.3,417.5,435.1,470.8,498,519.6,551.3,582.5,617.5,648.7,680.4,702,729.2,764.9,782.5,813.7,852.6,884.4,905.9,933.1,968.8,996.1,1017.6,1035,1049.4,1088.3,1115.5,1146.7,1178.5,1200],sequenceValues:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],stepFocus:e.stepFocus},a.partchGreekCut=[62.96,203.91,111.73,498,315.64,701.95,764.91,813.68,1200],a.partchFull=[21.5,53.3,84.5,111.7,150.6,165,182.4,203.9,231.2,266.9,294.1,315.6,347.4,386.3,417.5,435.1,470.8,498,519.6,551.3,582.5,617.5,648.7,680.4,702,729.2,764.9,782.5,813.7,852.6,884.4,905.9,933.1,968.8,996.1,1017.6,1035,1049.4,1088.3,1115.5,1146.7,1178.5,1200],a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.scale.map(function(t){return t===parseFloat(e.state.sequenceValues[e.props.stepFocus])?s.a.createElement("label",{key:"scaleVal".concat(t),className:"radio-container"},s.a.createElement("span",{className:"radio-label"},parseInt(t),s.a.createElement("br",null),"Hz"),s.a.createElement("input",{checked:!0,type:"radio",name:"radio",value:t,onChange:function(t){return e.setVal(t,e.props.stepFocus)}}),s.a.createElement("span",{className:"radio-checkmark"})):s.a.createElement("label",{key:"scaleVal".concat(t),className:"radio-container"},s.a.createElement("span",{className:"radio-label"},parseInt(t),s.a.createElement("br",null),"Hz"),s.a.createElement("input",{type:"radio",name:"radio",value:t,onChange:function(t){return e.setVal(t,e.props.stepFocus)}}),s.a.createElement("span",{className:"radio-checkmark"}))});return s.a.createElement("div",null,s.a.createElement("p",null,"STEP: ",this.props.stepFocus+1),s.a.createElement("div",{className:"value-picker",style:S},t,s.a.createElement("label",{className:"radio-container"},s.a.createElement("span",{className:"radio-label"},"VOID"),s.a.createElement("input",{type:"radio",name:"radio",value:"",onChange:function(t){return e.setVal(t,e.props.stepFocus)}}),s.a.createElement("span",{className:"radio-checkmark"}))))}}]),t}(n.Component),k=function(e){return s.a.createElement("div",{className:"adsr-sliders"},s.a.createElement("div",{className:"adsr-slider"},s.a.createElement("span",null,"AMP"),s.a.createElement("div",{className:"slider-wrapper"},s.a.createElement("input",{id:"ampAttack",type:"range",min:.1,max:4,value:e.adsrVal.ampAttack,step:.1,onChange:e.handleAdsr})),s.a.createElement("span",null,"A: ",s.a.createElement("br",null),e.adsrVal.ampAttack)),s.a.createElement("div",{className:"adsr-slider"},s.a.createElement("span",null,"AMP"),s.a.createElement("div",{className:"slider-wrapper"},s.a.createElement("input",{id:"ampRelease",type:"range",min:.1,max:3,value:e.adsrVal.ampRelease,step:.1,onChange:e.handleAdsr})),s.a.createElement("span",null,"R: ",s.a.createElement("br",null),e.adsrVal.ampRelease)),s.a.createElement("div",{className:"adsr-slider"},s.a.createElement("span",null,"FILT"),s.a.createElement("div",{className:"slider-wrapper"},s.a.createElement("input",{id:"filtFreq",type:"range",min:25,max:1800,value:e.adsrVal.filtFreq,step:10,onChange:e.handleAdsr})),s.a.createElement("span",null,"FREQ: ",s.a.createElement("br",null),e.adsrVal.filtFreq)),s.a.createElement("div",{className:"adsr-slider"},s.a.createElement("span",null,"OSC"),s.a.createElement("div",{className:"slider-wrapper"},s.a.createElement("input",{id:"oscHarm",type:"range",min:0,max:2,value:e.adsrVal.oscHarm,step:.01,onChange:e.handleAdsr})),s.a.createElement("span",null,"HARM: ",s.a.createElement("br",null),e.adsrVal.oscHarm)))},w=function(e){var t=0,a=function e(){return++t<15?s.a.createElement("div",{className:"color-down"},e()):void 0}();return s.a.createElement("div",null,s.a.createElement("div",{className:"fract-wrapper"},s.a.createElement("div",{className:"layer1",id:"layer1"},a)),s.a.createElement("div",{id:"analyser"}))},R=function(e){return s.a.createElement("div",{className:"wave-selector"},s.a.createElement("label",null,"OSC 1"),s.a.createElement("select",{name:"voice0",id:"voice0",onChange:e.handleChange},s.a.createElement("option",{defaultValue:!0,value:"sine"},"sine"),s.a.createElement("option",{value:"triangle"},"triangle"),s.a.createElement("option",{value:"sawtooth"},"sawtooth"),s.a.createElement("option",{value:"square"},"square")),s.a.createElement("label",null,"OSC 2"),s.a.createElement("select",{name:"voice1",id:"voice1",onChange:e.handleChange},s.a.createElement("option",{defaultValue:!0,value:"sine"},"sine"),s.a.createElement("option",{value:"triangle"},"triangle"),s.a.createElement("option",{value:"sawtooth"},"sawtooth"),s.a.createElement("option",{value:"square"},"square")))},V=function(e){return s.a.createElement("div",{className:"reverb"},s.a.createElement("span",null,"REVERB"),s.a.createElement("hr",null),s.a.createElement("div",{className:"reverb-sliders"},s.a.createElement("div",{className:"adsr-slider"},s.a.createElement("span",null,"DRY/WET"),s.a.createElement("div",{className:"slider-wrapper"},s.a.createElement("input",{id:"reverbWet",type:"range",min:0,max:1,value:e.stateData[0],step:.1,onChange:e.handleChange})),s.a.createElement("span",null,e.stateData[0])),s.a.createElement("div",{className:"adsr-slider"},s.a.createElement("span",null,"ROOM SIZE"),s.a.createElement("div",{className:"slider-wrapper"},s.a.createElement("input",{id:"reverbRoomSize",type:"range",min:0,max:1,value:e.stateData[1],step:.1,onChange:e.handleChange})),s.a.createElement("span",null,e.stateData[1]))))},C=a(9),F=a.n(C),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleRecordStart=function(){var e=[];a.props.recorder.start(),a.props.recorder.ondataavailable=function(t){e.push(t.data)},a.setState({recordings:e})},a.handleRecordStop=function(){a.props.recorder.stop();var e=a.audioRef.current;a.props.recorder.onstop=function(t){var n=new Blob(a.state.recordings,{type:"audio/wav; codecs=opus"});e.src=URL.createObjectURL(n)},a.setState({})},a.handleRecordBtn=function(){return"recording"===a.props.recorder.state?s.a.createElement("button",{className:"recorder-stop",onClick:a.handleRecordStop},"STOP"):s.a.createElement("button",{className:"recorder-record",onClick:a.handleRecordStart},"RECORD")},a.state={recordings:[]},a.audioRef=s.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.handleRecordBtn();return s.a.createElement("div",{className:"recorder"},s.a.createElement("div",{className:"recorder-playback"},s.a.createElement("audio",{ref:this.audioRef,controls:!0})),s.a.createElement("div",{className:"recorder-controls"},e),s.a.createElement("div",{className:"recorder-logo"},s.a.createElement("img",{src:F.a,alt:"lindos synth logo",id:"lindos-synth-logo"})))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).positionSet=function(){var e=v.a.Transport.position.slice(),t=(16*parseInt(e.slice(0,1)%2)+4*parseInt(e.slice(2,3))+parseInt(e.slice(4,5)))%a.state.sequenceLength;a.setState({sequencePosition:t})},a.handleStepFocus=function(e){a.setState({stepFocus:e})},a.setSequenceVal=function(e){a.setState({sequenceValues:e})},a.setBpmState=function(e){a.setState({bpm:e.target.value>220?220:e.target.value})},a.setBpmTransport=function(){a.state.bpm<20&&a.setState({bpm:20}),v.a.Transport.bpm.rampTo(a.state.bpm>20?a.state.bpm:20,2)},a.handleLengthToggle=function(e){return 32===a.state.sequenceLength?void a.setState({sequenceLength:16}):void a.setState({sequenceLength:32})},a.handleAdsr=function(e){a.setState({adsr:Object(p.a)({},a.state.adsr,Object(d.a)({},e.target.id,parseFloat(e.target.value)))})},a.triggerSeq=function(){a.seq.start(),v.a.Transport.start()},a.stopSeq=function(){v.a.Transport.stop(0),a.seq.stop(0),v.a.Transport.position="0:0:0",a.setState({sequencePosition:0})},a.handlePlayButton=function(){return"stopped"===v.a.Transport.state?s.a.createElement("button",{className:"play-button",onClick:a.triggerSeq},">>>"):s.a.createElement("button",{className:"pause-button",onClick:a.stopSeq},"| |")},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.id,e.target.value))},a.state={adsr:{ampAttack:.01,ampRelease:.4,filtFreq:1800,oscHarm:1.2},voice0:"sine",voice1:"sine",reverbWet:0,reverbRoomSize:.5,sequenceValues:[""],sequencePosition:0,sequenceLength:32,bpm:120,gain:.7,stepFocus:0},a.synth=new v.a.DuoSynth({harmonicity:1.2}),a.gain=new v.a.Gain(.7).toMaster(),a.lowPass=new v.a.Filter(18e3,"lowpass",-24),a.reverb=new v.a.JCReverb({wet:0}),a.hiPass=new v.a.EQ3({low:-1/0,mid:0,high:0,lowFrequency:600,highFrequency:2500}),a.actx=v.a.context,a.dest=a.actx.createMediaStreamDestination(),a.recorder=new MediaRecorder(a.dest.stream),a.synth.connect(a.lowPass.connect(a.reverb.connect(a.hiPass.connect(a.gain)))),a.gain.connect(a.dest),a.seq=new v.a.Sequence(function(e,t){a.positionSet(),""!==t&&"0"!==t&&a.synth.triggerAttackRelease(t,"4n",e)},a.state.sequenceValues,"16n"),v.a.Transport.setLoopPoints(0,"2m"),v.a.Transport.loop=!0,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;this.gain.gain.value=this.state.gain,t.sequenceValues===this.state.sequenceValues&&t.sequenceLength===this.state.sequenceLength||(this.seq.dispose(),this.seq=new v.a.Sequence(function(e,t){a.positionSet(),""!==t&&"0"!==t&&a.synth.triggerAttackRelease(t,"8n",e)},this.state.sequenceValues.slice(0,this.state.sequenceLength),"16n").start(),"stopped"!==v.a.Transport.state&&(this.stopSeq(),this.triggerSeq())),t.adsr!==this.state.adsr&&(this.synth.voice0.envelope.attack=this.state.adsr.ampAttack,this.synth.voice1.envelope.attack=this.state.adsr.ampAttack,this.synth.voice0.envelope.release=this.state.adsr.ampRelease,this.synth.voice1.envelope.release=this.state.adsr.ampRelease,this.synth.harmonicity.value=this.state.adsr.oscHarm,this.lowPass.frequency.value=this.state.adsr.filtFreq),t.voice0===this.state.voice0&&t.voice1===this.state.voice1||(this.synth.voice0.oscillator.type=this.state.voice0,this.synth.voice1.oscillator.type=this.state.voice1),t.reverbWet===this.state.reverbWet&&t.reverbRoomSize===this.state.reverbRoomSize||(this.reverb.wet.value=this.state.reverbWet,this.reverb.roomSize.value=this.state.reverbRoomSize)}},{key:"render",value:function(){var e=this;console.log(this.state.sequenceValues[this.state.sequencePosition]);var t=this.handlePlayButton();return s.a.createElement("div",{className:"synth"},s.a.createElement("div",{className:"oscillator"},s.a.createElement("div",{className:"scope"},s.a.createElement(w,{note:this.state.sequenceValues[this.state.sequencePosition]})),s.a.createElement("button",{id:"sustain-button",onMouseDown:function(t){e.synth.triggerAttack("D4"),e.setState({})},onMouseUp:function(){return e.synth.triggerRelease()}},"\u2669"),s.a.createElement(R,{handleChange:this.handleChange}),s.a.createElement(V,{handleChange:this.handleChange,stateData:[this.state.reverbWet,this.state.reverbRoomSize]}),s.a.createElement(O,{recorder:this.recorder}),s.a.createElement("div",{className:"logo"},s.a.createElement("img",{src:F.a,alt:"lindos synth logo",id:"lindos-synth-logo"}))),s.a.createElement("div",{className:"control"},s.a.createElement("div",{className:"seq"},s.a.createElement("div",{className:"seq-controls"},t,s.a.createElement("label",{htmlFor:"bpm"},"BPM:"),s.a.createElement("input",{name:"bpm",id:"bpm",type:"number",value:this.state.bpm,step:"0.01",onChange:this.setBpmState,onBlur:this.setBpmTransport,min:"20",max:220}),s.a.createElement("label",{className:"length-switch"},s.a.createElement("input",{type:"checkbox",onChange:this.handleLengthToggle}),s.a.createElement("span",{className:"slider round"},"32/16"))),s.a.createElement(y,{seqPosition:this.state.sequencePosition,handleStepFocus:this.handleStepFocus,stepFocus:this.state.stepFocus,sequenceValues:this.state.sequenceValues}),s.a.createElement(N,{handleStepFocus:this.handleStepFocus,stepFocus:this.state.stepFocus,setSequenceVal:this.setSequenceVal})),s.a.createElement("div",{className:"adsr"},s.a.createElement("p",null,"ARFH"),s.a.createElement("hr",null),s.a.createElement(k,{adsrVal:this.state.adsr,handleAdsr:this.handleAdsr}),s.a.createElement("hr",null),s.a.createElement("div",{className:"master-slider"},s.a.createElement("input",{id:"gain",type:"range",min:0,max:1,step:.01,value:this.state.gain,onChange:this.handleChange}),s.a.createElement("span",null,"MASTER: ",this.state.gain)))))}}]),t}(n.Component),x=(a(20),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(j,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a.p+"static/media/lindos-synth-logo.0fb2427b.png"}},[[13,1,2]]]);
//# sourceMappingURL=main.11f94940.chunk.js.map